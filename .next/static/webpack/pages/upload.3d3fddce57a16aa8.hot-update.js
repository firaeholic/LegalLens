"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("pages/upload",{

/***/ "./lib/utils.ts":
/*!**********************!*\
  !*** ./lib/utils.ts ***!
  \**********************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AppError: function() { return /* binding */ AppError; },\n/* harmony export */   base64ToFile: function() { return /* binding */ base64ToFile; },\n/* harmony export */   calculateRiskScore: function() { return /* binding */ calculateRiskScore; },\n/* harmony export */   cn: function() { return /* binding */ cn; },\n/* harmony export */   debounce: function() { return /* binding */ debounce; },\n/* harmony export */   detectFileTypeFromExtension: function() { return /* binding */ detectFileTypeFromExtension; },\n/* harmony export */   extractKeywords: function() { return /* binding */ extractKeywords; },\n/* harmony export */   fileToBase64: function() { return /* binding */ fileToBase64; },\n/* harmony export */   formatDate: function() { return /* binding */ formatDate; },\n/* harmony export */   formatDuration: function() { return /* binding */ formatDuration; },\n/* harmony export */   formatFileSize: function() { return /* binding */ formatFileSize; },\n/* harmony export */   generateId: function() { return /* binding */ generateId; },\n/* harmony export */   getFileExtension: function() { return /* binding */ getFileExtension; },\n/* harmony export */   highlightText: function() { return /* binding */ highlightText; },\n/* harmony export */   isValidFileType: function() { return /* binding */ isValidFileType; },\n/* harmony export */   logger: function() { return /* binding */ logger; },\n/* harmony export */   retry: function() { return /* binding */ retry; },\n/* harmony export */   storage: function() { return /* binding */ storage; },\n/* harmony export */   truncateText: function() { return /* binding */ truncateText; }\n/* harmony export */ });\n/* harmony import */ var clsx__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! clsx */ \"./node_modules/clsx/dist/clsx.mjs\");\n/* harmony import */ var tailwind_merge__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! tailwind-merge */ \"./node_modules/tailwind-merge/dist/bundle-mjs.mjs\");\n/* harmony import */ var _config_constants__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../config/constants */ \"./config/constants.ts\");\n// Utility functions for LegalLens AI\n\n\n\n// Tailwind CSS class merging utility\nfunction cn() {\n    for(var _len = arguments.length, inputs = new Array(_len), _key = 0; _key < _len; _key++){\n        inputs[_key] = arguments[_key];\n    }\n    return (0,tailwind_merge__WEBPACK_IMPORTED_MODULE_2__.twMerge)((0,clsx__WEBPACK_IMPORTED_MODULE_0__.clsx)(inputs));\n}\n// Error handling utilities\nclass AppError extends Error {\n    toAPIError() {\n        return {\n            code: this.code,\n            message: this.message,\n            details: this.details,\n            timestamp: this.timestamp\n        };\n    }\n    constructor(code, message, details){\n        super(message || _config_constants__WEBPACK_IMPORTED_MODULE_1__.ERROR_MESSAGES[code] || \"An unknown error occurred\");\n        this.code = code;\n        this.details = details;\n        this.timestamp = new Date();\n        this.name = \"AppError\";\n    }\n}\n// Logging utilities\nconst logger = {\n    error: (message, error, context)=>{\n        const logEntry = {\n            level: \"ERROR\",\n            message,\n            error: error instanceof Error ? {\n                name: error.name,\n                message: error.message,\n                stack: error.stack\n            } : error,\n            context,\n            timestamp: new Date().toISOString()\n        };\n        console.error(\"[LegalLens]\", logEntry);\n    },\n    warn: (message, data, context)=>{\n        const logEntry = {\n            level: \"WARN\",\n            message,\n            data,\n            context,\n            timestamp: new Date().toISOString()\n        };\n        console.warn(\"[LegalLens]\", logEntry);\n    },\n    info: (message, data, context)=>{\n        const logEntry = {\n            level: \"INFO\",\n            message,\n            data,\n            context,\n            timestamp: new Date().toISOString()\n        };\n        console.info(\"[LegalLens]\", logEntry);\n    },\n    debug: (message, data, context)=>{\n        if (true) {\n            const logEntry = {\n                level: \"DEBUG\",\n                message,\n                data,\n                context,\n                timestamp: new Date().toISOString()\n            };\n            console.debug(\"[LegalLens]\", logEntry);\n        }\n    }\n};\n// File validation utilities\nfunction getFileExtension(fileName) {\n    var _fileName_split_pop;\n    return ((_fileName_split_pop = fileName.split(\".\").pop()) === null || _fileName_split_pop === void 0 ? void 0 : _fileName_split_pop.toLowerCase()) || \"\";\n}\nfunction detectFileTypeFromExtension(fileName) {\n    const ext = getFileExtension(fileName);\n    const mimeMap = {\n        \"pdf\": \"application/pdf\",\n        \"png\": \"image/png\",\n        \"jpg\": \"image/jpeg\",\n        \"jpeg\": \"image/jpeg\",\n        \"webp\": \"image/webp\"\n    };\n    return mimeMap[ext] || \"\";\n}\nfunction isValidFileType(file) {\n    const fileName = file.name.toLowerCase();\n    const fileType = file.type.toLowerCase();\n    // Check common image and PDF types\n    const validTypes = [\n        \"application/pdf\",\n        \"image/png\",\n        \"image/jpeg\",\n        \"image/jpg\",\n        \"image/webp\"\n    ];\n    const validExtensions = [\n        \".pdf\",\n        \".png\",\n        \".jpg\",\n        \".jpeg\",\n        \".webp\"\n    ];\n    return validTypes.includes(fileType) || validExtensions.some((ext)=>fileName.endsWith(ext)) || fileType.includes(\"png\") || fileType.includes(\"jpeg\") || fileType.includes(\"pdf\") || fileType.includes(\"webp\");\n}\n// File conversion utilities\nfunction fileToBase64(file) {\n    return new Promise((resolve, reject)=>{\n        const reader = new FileReader();\n        reader.readAsDataURL(file);\n        reader.onload = ()=>{\n            if (typeof reader.result === \"string\") {\n                resolve(reader.result);\n            } else {\n                reject(new AppError(_config_constants__WEBPACK_IMPORTED_MODULE_1__.ERROR_CODES.INVALID_INPUT, \"Failed to convert file to base64\"));\n            }\n        };\n        reader.onerror = ()=>reject(new AppError(_config_constants__WEBPACK_IMPORTED_MODULE_1__.ERROR_CODES.INVALID_INPUT, \"Failed to read file\"));\n    });\n}\nfunction base64ToFile(base64, filename) {\n    var _arr__match;\n    const arr = base64.split(\",\");\n    const mime = ((_arr__match = arr[0].match(/:(.*?);/)) === null || _arr__match === void 0 ? void 0 : _arr__match[1]) || \"application/octet-stream\";\n    const bstr = atob(arr[1]);\n    let n = bstr.length;\n    const u8arr = new Uint8Array(n);\n    while(n--){\n        u8arr[n] = bstr.charCodeAt(n);\n    }\n    return new File([\n        u8arr\n    ], filename, {\n        type: mime\n    });\n}\n// Storage utilities\nconst storage = {\n    get: (key)=>{\n        if (false) {}\n        try {\n            const item = sessionStorage.getItem(key);\n            return item ? JSON.parse(item) : null;\n        } catch (error) {\n            logger.error(\"Failed to get item from storage\", error, \"storage.get\");\n            return null;\n        }\n    },\n    set: (key, value)=>{\n        if (false) {}\n        try {\n            sessionStorage.setItem(key, JSON.stringify(value));\n        } catch (error) {\n            logger.error(\"Failed to set item in storage\", error, \"storage.set\");\n        }\n    },\n    remove: (key)=>{\n        if (false) {}\n        try {\n            sessionStorage.removeItem(key);\n        } catch (error) {\n            logger.error(\"Failed to remove item from storage\", error, \"storage.remove\");\n        }\n    },\n    clear: ()=>{\n        if (false) {}\n        try {\n            sessionStorage.clear();\n        } catch (error) {\n            logger.error(\"Failed to clear storage\", error, \"storage.clear\");\n        }\n    }\n};\n// Format utilities\nfunction formatFileSize(bytes) {\n    if (bytes === 0) return \"0 Bytes\";\n    const k = 1024;\n    const sizes = [\n        \"Bytes\",\n        \"KB\",\n        \"MB\",\n        \"GB\"\n    ];\n    const i = Math.floor(Math.log(bytes) / Math.log(k));\n    return parseFloat((bytes / Math.pow(k, i)).toFixed(2)) + \" \" + sizes[i];\n}\nfunction formatDuration(ms) {\n    if (ms < 1000) return \"\".concat(ms, \"ms\");\n    if (ms < 60000) return \"\".concat((ms / 1000).toFixed(1), \"s\");\n    return \"\".concat((ms / 60000).toFixed(1), \"m\");\n}\nfunction formatDate(date) {\n    return new Intl.DateTimeFormat(\"en-US\", {\n        year: \"numeric\",\n        month: \"short\",\n        day: \"numeric\",\n        hour: \"2-digit\",\n        minute: \"2-digit\"\n    }).format(date);\n}\n// Text processing utilities\nfunction truncateText(text, maxLength) {\n    if (text.length <= maxLength) return text;\n    return text.substring(0, maxLength) + \"...\";\n}\nfunction highlightText(text, searchTerm) {\n    if (!searchTerm) return text;\n    const regex = new RegExp(\"(\".concat(searchTerm, \")\"), \"gi\");\n    return text.replace(regex, '<mark class=\"bg-yellow-200\">$1</mark>');\n}\nfunction extractKeywords(text) {\n    let count = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : 10;\n    const words = text.toLowerCase().replace(/[^\\w\\s]/g, \"\").split(/\\s+/).filter((word)=>word.length > 3);\n    const stopWords = new Set([\n        \"the\",\n        \"and\",\n        \"or\",\n        \"but\",\n        \"in\",\n        \"on\",\n        \"at\",\n        \"to\",\n        \"for\",\n        \"of\",\n        \"with\",\n        \"by\",\n        \"from\",\n        \"up\",\n        \"about\",\n        \"into\",\n        \"through\",\n        \"during\",\n        \"before\",\n        \"after\",\n        \"above\",\n        \"below\",\n        \"between\",\n        \"among\",\n        \"this\",\n        \"that\",\n        \"these\",\n        \"those\",\n        \"will\",\n        \"shall\",\n        \"may\",\n        \"can\",\n        \"could\",\n        \"would\",\n        \"should\"\n    ]);\n    const wordCount = new Map();\n    words.forEach((word)=>{\n        if (!stopWords.has(word)) {\n            wordCount.set(word, (wordCount.get(word) || 0) + 1);\n        }\n    });\n    return Array.from(wordCount.entries()).sort((a, b)=>b[1] - a[1]).slice(0, count).map((param)=>{\n        let [word] = param;\n        return word;\n    });\n}\n// Debounce utility\nfunction debounce(func, wait) {\n    let timeout;\n    return function() {\n        for(var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++){\n            args[_key] = arguments[_key];\n        }\n        clearTimeout(timeout);\n        timeout = setTimeout(()=>func(...args), wait);\n    };\n}\n// Retry utility\nasync function retry(fn) {\n    let maxAttempts = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : 3, delay = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : 1000;\n    let lastError;\n    for(let attempt = 1; attempt <= maxAttempts; attempt++){\n        try {\n            return await fn();\n        } catch (error) {\n            lastError = error instanceof Error ? error : new Error(String(error));\n            if (attempt === maxAttempts) {\n                throw lastError;\n            }\n            logger.warn(\"Attempt \".concat(attempt, \" failed, retrying in \").concat(delay, \"ms\"), lastError, \"retry\");\n            await new Promise((resolve)=>setTimeout(resolve, delay));\n        }\n    }\n    throw lastError;\n}\n// Generate unique ID\nfunction generateId() {\n    return Math.random().toString(36).substring(2) + Date.now().toString(36);\n}\n// Calculate risk score\nfunction calculateRiskScore(clauses) {\n    if (clauses.length === 0) return 0;\n    const weights = {\n        high: 1,\n        medium: 0.6,\n        low: 0.3,\n        positive: -0.2\n    };\n    const totalWeight = clauses.reduce((sum, clause)=>{\n        return sum + (weights[clause.riskLevel] || 0);\n    }, 0);\n    return Math.max(0, Math.min(1, totalWeight / clauses.length));\n}\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LGFBQWFHLFVBQVc7UUFDdkQsSUFBSTtZQUNGLE9BQU8sTUFBTUo7UUFDZixFQUFFLE9BQU9oSSxPQUFPO1lBQ2RtSSxZQUFZbkksaUJBQWlCVixRQUFRVSxRQUFRLElBQUlWLE1BQU0rSSxPQUFPckk7WUFFOUQsSUFBSW9JLFlBQVlILGFBQWE7Z0JBQzNCLE1BQU1FO1lBQ1I7WUFFQXBJLE9BQU9RLElBQUksQ0FBQyxXQUEwQzJILE9BQS9CRSxTQUFRLHlCQUE2QixPQUFORixPQUFNLE9BQUtDLFdBQVc7WUFDNUUsTUFBTSxJQUFJckcsUUFBUUMsQ0FBQUEsVUFBVytGLFdBQVcvRixTQUFTbUc7UUFDbkQ7SUFDRjtJQUVBLE1BQU1DO0FBQ1I7QUFFQSxxQkFBcUI7QUFDZCxTQUFTRztJQUNkLE9BQU81RCxLQUFLNkQsTUFBTSxHQUFHQyxRQUFRLENBQUMsSUFBSXpDLFNBQVMsQ0FBQyxLQUFLbEcsS0FBSzRJLEdBQUcsR0FBR0QsUUFBUSxDQUFDO0FBQ3ZFO0FBRUEsdUJBQXVCO0FBQ2hCLFNBQVNFLG1CQUFtQkMsT0FBcUM7SUFDdEUsSUFBSUEsUUFBUTFGLE1BQU0sS0FBSyxHQUFHLE9BQU87SUFFakMsTUFBTTJGLFVBQVU7UUFBRUMsTUFBTTtRQUFHQyxRQUFRO1FBQUtDLEtBQUs7UUFBS0MsVUFBVSxDQUFDO0lBQUk7SUFDakUsTUFBTUMsY0FBY04sUUFBUU8sTUFBTSxDQUFDLENBQUNDLEtBQUtDO1FBQ3ZDLE9BQU9ELE1BQU9QLENBQUFBLE9BQU8sQ0FBQ1EsT0FBT0MsU0FBUyxDQUF5QixJQUFJO0lBQ3JFLEdBQUc7SUFFSCxPQUFPM0UsS0FBSzRFLEdBQUcsQ0FBQyxHQUFHNUUsS0FBSzZFLEdBQUcsQ0FBQyxHQUFHTixjQUFjTixRQUFRMUYsTUFBTTtBQUM3RCIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9saWIvdXRpbHMudHM/Zjc0NSJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBVdGlsaXR5IGZ1bmN0aW9ucyBmb3IgTGVnYWxMZW5zIEFJXG5pbXBvcnQgeyB0eXBlIENsYXNzVmFsdWUsIGNsc3ggfSBmcm9tICdjbHN4J1xuaW1wb3J0IHsgdHdNZXJnZSB9IGZyb20gJ3RhaWx3aW5kLW1lcmdlJ1xuaW1wb3J0IHR5cGUgeyBBUElFcnJvciB9IGZyb20gJy4uL3R5cGVzJ1xuaW1wb3J0IHsgRVJST1JfQ09ERVMsIEVSUk9SX01FU1NBR0VTIH0gZnJvbSAnLi4vY29uZmlnL2NvbnN0YW50cydcblxuLy8gVGFpbHdpbmQgQ1NTIGNsYXNzIG1lcmdpbmcgdXRpbGl0eVxuZXhwb3J0IGZ1bmN0aW9uIGNuKC4uLmlucHV0czogQ2xhc3NWYWx1ZVtdKSB7XG4gIHJldHVybiB0d01lcmdlKGNsc3goaW5wdXRzKSlcbn1cblxuLy8gRXJyb3IgaGFuZGxpbmcgdXRpbGl0aWVzXG5leHBvcnQgY2xhc3MgQXBwRXJyb3IgZXh0ZW5kcyBFcnJvciB7XG4gIHB1YmxpYyByZWFkb25seSBjb2RlOiBzdHJpbmdcbiAgcHVibGljIHJlYWRvbmx5IGRldGFpbHM/OiBhbnlcbiAgcHVibGljIHJlYWRvbmx5IHRpbWVzdGFtcDogRGF0ZVxuXG4gIGNvbnN0cnVjdG9yKGNvZGU6IHN0cmluZywgbWVzc2FnZT86IHN0cmluZywgZGV0YWlscz86IGFueSkge1xuICAgIHN1cGVyKG1lc3NhZ2UgfHwgRVJST1JfTUVTU0FHRVNbY29kZSBhcyBrZXlvZiB0eXBlb2YgRVJST1JfTUVTU0FHRVNdIHx8ICdBbiB1bmtub3duIGVycm9yIG9jY3VycmVkJylcbiAgICB0aGlzLmNvZGUgPSBjb2RlXG4gICAgdGhpcy5kZXRhaWxzID0gZGV0YWlsc1xuICAgIHRoaXMudGltZXN0YW1wID0gbmV3IERhdGUoKVxuICAgIHRoaXMubmFtZSA9ICdBcHBFcnJvcidcbiAgfVxuXG4gIHRvQVBJRXJyb3IoKTogQVBJRXJyb3Ige1xuICAgIHJldHVybiB7XG4gICAgICBjb2RlOiB0aGlzLmNvZGUsXG4gICAgICBtZXNzYWdlOiB0aGlzLm1lc3NhZ2UsXG4gICAgICBkZXRhaWxzOiB0aGlzLmRldGFpbHMsXG4gICAgICB0aW1lc3RhbXA6IHRoaXMudGltZXN0YW1wXG4gICAgfVxuICB9XG59XG5cbi8vIExvZ2dpbmcgdXRpbGl0aWVzXG5leHBvcnQgY29uc3QgbG9nZ2VyID0ge1xuICBlcnJvcjogKG1lc3NhZ2U6IHN0cmluZywgZXJyb3I/OiBhbnksIGNvbnRleHQ/OiBzdHJpbmcpID0+IHtcbiAgICBjb25zdCBsb2dFbnRyeSA9IHtcbiAgICAgIGxldmVsOiAnRVJST1InLFxuICAgICAgbWVzc2FnZSxcbiAgICAgIGVycm9yOiBlcnJvciBpbnN0YW5jZW9mIEVycm9yID8ge1xuICAgICAgICBuYW1lOiBlcnJvci5uYW1lLFxuICAgICAgICBtZXNzYWdlOiBlcnJvci5tZXNzYWdlLFxuICAgICAgICBzdGFjazogZXJyb3Iuc3RhY2tcbiAgICAgIH0gOiBlcnJvcixcbiAgICAgIGNvbnRleHQsXG4gICAgICB0aW1lc3RhbXA6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKVxuICAgIH1cbiAgICBjb25zb2xlLmVycm9yKCdbTGVnYWxMZW5zXScsIGxvZ0VudHJ5KVxuICB9LFxuICBcbiAgd2FybjogKG1lc3NhZ2U6IHN0cmluZywgZGF0YT86IGFueSwgY29udGV4dD86IHN0cmluZykgPT4ge1xuICAgIGNvbnN0IGxvZ0VudHJ5ID0ge1xuICAgICAgbGV2ZWw6ICdXQVJOJyxcbiAgICAgIG1lc3NhZ2UsXG4gICAgICBkYXRhLFxuICAgICAgY29udGV4dCxcbiAgICAgIHRpbWVzdGFtcDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpXG4gICAgfVxuICAgIGNvbnNvbGUud2FybignW0xlZ2FsTGVuc10nLCBsb2dFbnRyeSlcbiAgfSxcbiAgXG4gIGluZm86IChtZXNzYWdlOiBzdHJpbmcsIGRhdGE/OiBhbnksIGNvbnRleHQ/OiBzdHJpbmcpID0+IHtcbiAgICBjb25zdCBsb2dFbnRyeSA9IHtcbiAgICAgIGxldmVsOiAnSU5GTycsXG4gICAgICBtZXNzYWdlLFxuICAgICAgZGF0YSxcbiAgICAgIGNvbnRleHQsXG4gICAgICB0aW1lc3RhbXA6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKVxuICAgIH1cbiAgICBjb25zb2xlLmluZm8oJ1tMZWdhbExlbnNdJywgbG9nRW50cnkpXG4gIH0sXG4gIFxuICBkZWJ1ZzogKG1lc3NhZ2U6IHN0cmluZywgZGF0YT86IGFueSwgY29udGV4dD86IHN0cmluZykgPT4ge1xuICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gJ2RldmVsb3BtZW50Jykge1xuICAgICAgY29uc3QgbG9nRW50cnkgPSB7XG4gICAgICAgIGxldmVsOiAnREVCVUcnLFxuICAgICAgICBtZXNzYWdlLFxuICAgICAgICBkYXRhLFxuICAgICAgICBjb250ZXh0LFxuICAgICAgICB0aW1lc3RhbXA6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKVxuICAgICAgfVxuICAgICAgY29uc29sZS5kZWJ1ZygnW0xlZ2FsTGVuc10nLCBsb2dFbnRyeSlcbiAgICB9XG4gIH1cbn1cblxuLy8gRmlsZSB2YWxpZGF0aW9uIHV0aWxpdGllc1xuZXhwb3J0IGZ1bmN0aW9uIGdldEZpbGVFeHRlbnNpb24oZmlsZU5hbWU6IHN0cmluZyk6IHN0cmluZyB7XG4gIHJldHVybiBmaWxlTmFtZS5zcGxpdCgnLicpLnBvcCgpPy50b0xvd2VyQ2FzZSgpIHx8ICcnXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBkZXRlY3RGaWxlVHlwZUZyb21FeHRlbnNpb24oZmlsZU5hbWU6IHN0cmluZyk6IHN0cmluZyB7XG4gIGNvbnN0IGV4dCA9IGdldEZpbGVFeHRlbnNpb24oZmlsZU5hbWUpXG4gIGNvbnN0IG1pbWVNYXA6IFJlY29yZDxzdHJpbmcsIHN0cmluZz4gPSB7XG4gICAgJ3BkZic6ICdhcHBsaWNhdGlvbi9wZGYnLFxuICAgICdwbmcnOiAnaW1hZ2UvcG5nJyxcbiAgICAnanBnJzogJ2ltYWdlL2pwZWcnLFxuICAgICdqcGVnJzogJ2ltYWdlL2pwZWcnLFxuICAgICd3ZWJwJzogJ2ltYWdlL3dlYnAnXG4gIH1cbiAgcmV0dXJuIG1pbWVNYXBbZXh0XSB8fCAnJ1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaXNWYWxpZEZpbGVUeXBlKGZpbGU6IEZpbGUpOiBib29sZWFuIHtcbiAgY29uc3QgZmlsZU5hbWUgPSBmaWxlLm5hbWUudG9Mb3dlckNhc2UoKVxuICBjb25zdCBmaWxlVHlwZSA9IGZpbGUudHlwZS50b0xvd2VyQ2FzZSgpXG4gIFxuICAvLyBDaGVjayBjb21tb24gaW1hZ2UgYW5kIFBERiB0eXBlc1xuICBjb25zdCB2YWxpZFR5cGVzID0gW1xuICAgICdhcHBsaWNhdGlvbi9wZGYnLFxuICAgICdpbWFnZS9wbmcnLFxuICAgICdpbWFnZS9qcGVnJyxcbiAgICAnaW1hZ2UvanBnJyxcbiAgICAnaW1hZ2Uvd2VicCdcbiAgXVxuICBcbiAgY29uc3QgdmFsaWRFeHRlbnNpb25zID0gWycucGRmJywgJy5wbmcnLCAnLmpwZycsICcuanBlZycsICcud2VicCddXG4gIFxuICByZXR1cm4gdmFsaWRUeXBlcy5pbmNsdWRlcyhmaWxlVHlwZSkgfHwgXG4gICAgICAgICB2YWxpZEV4dGVuc2lvbnMuc29tZShleHQgPT4gZmlsZU5hbWUuZW5kc1dpdGgoZXh0KSkgfHxcbiAgICAgICAgIGZpbGVUeXBlLmluY2x1ZGVzKCdwbmcnKSB8fCBmaWxlVHlwZS5pbmNsdWRlcygnanBlZycpIHx8IFxuICAgICAgICAgZmlsZVR5cGUuaW5jbHVkZXMoJ3BkZicpIHx8IGZpbGVUeXBlLmluY2x1ZGVzKCd3ZWJwJylcbn1cblxuLy8gRmlsZSBjb252ZXJzaW9uIHV0aWxpdGllc1xuZXhwb3J0IGZ1bmN0aW9uIGZpbGVUb0Jhc2U2NChmaWxlOiBGaWxlKTogUHJvbWlzZTxzdHJpbmc+IHtcbiAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICBjb25zdCByZWFkZXIgPSBuZXcgRmlsZVJlYWRlcigpXG4gICAgcmVhZGVyLnJlYWRBc0RhdGFVUkwoZmlsZSlcbiAgICByZWFkZXIub25sb2FkID0gKCkgPT4ge1xuICAgICAgaWYgKHR5cGVvZiByZWFkZXIucmVzdWx0ID09PSAnc3RyaW5nJykge1xuICAgICAgICByZXNvbHZlKHJlYWRlci5yZXN1bHQpXG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZWplY3QobmV3IEFwcEVycm9yKEVSUk9SX0NPREVTLklOVkFMSURfSU5QVVQsICdGYWlsZWQgdG8gY29udmVydCBmaWxlIHRvIGJhc2U2NCcpKVxuICAgICAgfVxuICAgIH1cbiAgICByZWFkZXIub25lcnJvciA9ICgpID0+IHJlamVjdChuZXcgQXBwRXJyb3IoRVJST1JfQ09ERVMuSU5WQUxJRF9JTlBVVCwgJ0ZhaWxlZCB0byByZWFkIGZpbGUnKSlcbiAgfSlcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGJhc2U2NFRvRmlsZShiYXNlNjQ6IHN0cmluZywgZmlsZW5hbWU6IHN0cmluZyk6IEZpbGUge1xuICBjb25zdCBhcnIgPSBiYXNlNjQuc3BsaXQoJywnKVxuICBjb25zdCBtaW1lID0gYXJyWzBdLm1hdGNoKC86KC4qPyk7Lyk/LlsxXSB8fCAnYXBwbGljYXRpb24vb2N0ZXQtc3RyZWFtJ1xuICBjb25zdCBic3RyID0gYXRvYihhcnJbMV0pXG4gIGxldCBuID0gYnN0ci5sZW5ndGhcbiAgY29uc3QgdThhcnIgPSBuZXcgVWludDhBcnJheShuKVxuICBcbiAgd2hpbGUgKG4tLSkge1xuICAgIHU4YXJyW25dID0gYnN0ci5jaGFyQ29kZUF0KG4pXG4gIH1cbiAgXG4gIHJldHVybiBuZXcgRmlsZShbdThhcnJdLCBmaWxlbmFtZSwgeyB0eXBlOiBtaW1lIH0pXG59XG5cbi8vIFN0b3JhZ2UgdXRpbGl0aWVzXG5leHBvcnQgY29uc3Qgc3RvcmFnZSA9IHtcbiAgZ2V0OiA8VD4oa2V5OiBzdHJpbmcpOiBUIHwgbnVsbCA9PiB7XG4gICAgaWYgKHR5cGVvZiB3aW5kb3cgPT09ICd1bmRlZmluZWQnKSByZXR1cm4gbnVsbFxuICAgIFxuICAgIHRyeSB7XG4gICAgICBjb25zdCBpdGVtID0gc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbShrZXkpXG4gICAgICByZXR1cm4gaXRlbSA/IEpTT04ucGFyc2UoaXRlbSkgOiBudWxsXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGxvZ2dlci5lcnJvcignRmFpbGVkIHRvIGdldCBpdGVtIGZyb20gc3RvcmFnZScsIGVycm9yLCAnc3RvcmFnZS5nZXQnKVxuICAgICAgcmV0dXJuIG51bGxcbiAgICB9XG4gIH0sXG4gIFxuICBzZXQ6IDxUPihrZXk6IHN0cmluZywgdmFsdWU6IFQpOiB2b2lkID0+IHtcbiAgICBpZiAodHlwZW9mIHdpbmRvdyA9PT0gJ3VuZGVmaW5lZCcpIHJldHVyblxuICAgIFxuICAgIHRyeSB7XG4gICAgICBzZXNzaW9uU3RvcmFnZS5zZXRJdGVtKGtleSwgSlNPTi5zdHJpbmdpZnkodmFsdWUpKVxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBsb2dnZXIuZXJyb3IoJ0ZhaWxlZCB0byBzZXQgaXRlbSBpbiBzdG9yYWdlJywgZXJyb3IsICdzdG9yYWdlLnNldCcpXG4gICAgfVxuICB9LFxuICBcbiAgcmVtb3ZlOiAoa2V5OiBzdHJpbmcpOiB2b2lkID0+IHtcbiAgICBpZiAodHlwZW9mIHdpbmRvdyA9PT0gJ3VuZGVmaW5lZCcpIHJldHVyblxuICAgIFxuICAgIHRyeSB7XG4gICAgICBzZXNzaW9uU3RvcmFnZS5yZW1vdmVJdGVtKGtleSlcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgbG9nZ2VyLmVycm9yKCdGYWlsZWQgdG8gcmVtb3ZlIGl0ZW0gZnJvbSBzdG9yYWdlJywgZXJyb3IsICdzdG9yYWdlLnJlbW92ZScpXG4gICAgfVxuICB9LFxuICBcbiAgY2xlYXI6ICgpOiB2b2lkID0+IHtcbiAgICBpZiAodHlwZW9mIHdpbmRvdyA9PT0gJ3VuZGVmaW5lZCcpIHJldHVyblxuICAgIFxuICAgIHRyeSB7XG4gICAgICBzZXNzaW9uU3RvcmFnZS5jbGVhcigpXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGxvZ2dlci5lcnJvcignRmFpbGVkIHRvIGNsZWFyIHN0b3JhZ2UnLCBlcnJvciwgJ3N0b3JhZ2UuY2xlYXInKVxuICAgIH1cbiAgfVxufVxuXG4vLyBGb3JtYXQgdXRpbGl0aWVzXG5leHBvcnQgZnVuY3Rpb24gZm9ybWF0RmlsZVNpemUoYnl0ZXM6IG51bWJlcik6IHN0cmluZyB7XG4gIGlmIChieXRlcyA9PT0gMCkgcmV0dXJuICcwIEJ5dGVzJ1xuICBcbiAgY29uc3QgayA9IDEwMjRcbiAgY29uc3Qgc2l6ZXMgPSBbJ0J5dGVzJywgJ0tCJywgJ01CJywgJ0dCJ11cbiAgY29uc3QgaSA9IE1hdGguZmxvb3IoTWF0aC5sb2coYnl0ZXMpIC8gTWF0aC5sb2coaykpXG4gIFxuICByZXR1cm4gcGFyc2VGbG9hdCgoYnl0ZXMgLyBNYXRoLnBvdyhrLCBpKSkudG9GaXhlZCgyKSkgKyAnICcgKyBzaXplc1tpXVxufVxuXG5leHBvcnQgZnVuY3Rpb24gZm9ybWF0RHVyYXRpb24obXM6IG51bWJlcik6IHN0cmluZyB7XG4gIGlmIChtcyA8IDEwMDApIHJldHVybiBgJHttc31tc2BcbiAgaWYgKG1zIDwgNjAwMDApIHJldHVybiBgJHsobXMgLyAxMDAwKS50b0ZpeGVkKDEpfXNgXG4gIHJldHVybiBgJHsobXMgLyA2MDAwMCkudG9GaXhlZCgxKX1tYFxufVxuXG5leHBvcnQgZnVuY3Rpb24gZm9ybWF0RGF0ZShkYXRlOiBEYXRlKTogc3RyaW5nIHtcbiAgcmV0dXJuIG5ldyBJbnRsLkRhdGVUaW1lRm9ybWF0KCdlbi1VUycsIHtcbiAgICB5ZWFyOiAnbnVtZXJpYycsXG4gICAgbW9udGg6ICdzaG9ydCcsXG4gICAgZGF5OiAnbnVtZXJpYycsXG4gICAgaG91cjogJzItZGlnaXQnLFxuICAgIG1pbnV0ZTogJzItZGlnaXQnXG4gIH0pLmZvcm1hdChkYXRlKVxufVxuXG4vLyBUZXh0IHByb2Nlc3NpbmcgdXRpbGl0aWVzXG5leHBvcnQgZnVuY3Rpb24gdHJ1bmNhdGVUZXh0KHRleHQ6IHN0cmluZywgbWF4TGVuZ3RoOiBudW1iZXIpOiBzdHJpbmcge1xuICBpZiAodGV4dC5sZW5ndGggPD0gbWF4TGVuZ3RoKSByZXR1cm4gdGV4dFxuICByZXR1cm4gdGV4dC5zdWJzdHJpbmcoMCwgbWF4TGVuZ3RoKSArICcuLi4nXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBoaWdobGlnaHRUZXh0KHRleHQ6IHN0cmluZywgc2VhcmNoVGVybTogc3RyaW5nKTogc3RyaW5nIHtcbiAgaWYgKCFzZWFyY2hUZXJtKSByZXR1cm4gdGV4dFxuICBcbiAgY29uc3QgcmVnZXggPSBuZXcgUmVnRXhwKGAoJHtzZWFyY2hUZXJtfSlgLCAnZ2knKVxuICByZXR1cm4gdGV4dC5yZXBsYWNlKHJlZ2V4LCAnPG1hcmsgY2xhc3M9XCJiZy15ZWxsb3ctMjAwXCI+JDE8L21hcms+Jylcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGV4dHJhY3RLZXl3b3Jkcyh0ZXh0OiBzdHJpbmcsIGNvdW50OiBudW1iZXIgPSAxMCk6IHN0cmluZ1tdIHtcbiAgY29uc3Qgd29yZHMgPSB0ZXh0LnRvTG93ZXJDYXNlKClcbiAgICAucmVwbGFjZSgvW15cXHdcXHNdL2csICcnKVxuICAgIC5zcGxpdCgvXFxzKy8pXG4gICAgLmZpbHRlcih3b3JkID0+IHdvcmQubGVuZ3RoID4gMylcbiAgXG4gIGNvbnN0IHN0b3BXb3JkcyA9IG5ldyBTZXQoW1xuICAgICd0aGUnLCAnYW5kJywgJ29yJywgJ2J1dCcsICdpbicsICdvbicsICdhdCcsICd0bycsICdmb3InLCAnb2YnLCAnd2l0aCcsXG4gICAgJ2J5JywgJ2Zyb20nLCAndXAnLCAnYWJvdXQnLCAnaW50bycsICd0aHJvdWdoJywgJ2R1cmluZycsICdiZWZvcmUnLFxuICAgICdhZnRlcicsICdhYm92ZScsICdiZWxvdycsICdiZXR3ZWVuJywgJ2Ftb25nJywgJ3RoaXMnLCAndGhhdCcsICd0aGVzZScsXG4gICAgJ3Rob3NlJywgJ3dpbGwnLCAnc2hhbGwnLCAnbWF5JywgJ2NhbicsICdjb3VsZCcsICd3b3VsZCcsICdzaG91bGQnXG4gIF0pXG4gIFxuICBjb25zdCB3b3JkQ291bnQgPSBuZXcgTWFwPHN0cmluZywgbnVtYmVyPigpXG4gIFxuICB3b3Jkcy5mb3JFYWNoKHdvcmQgPT4ge1xuICAgIGlmICghc3RvcFdvcmRzLmhhcyh3b3JkKSkge1xuICAgICAgd29yZENvdW50LnNldCh3b3JkLCAod29yZENvdW50LmdldCh3b3JkKSB8fCAwKSArIDEpXG4gICAgfVxuICB9KVxuICBcbiAgcmV0dXJuIEFycmF5LmZyb20od29yZENvdW50LmVudHJpZXMoKSlcbiAgICAuc29ydCgoYSwgYikgPT4gYlsxXSAtIGFbMV0pXG4gICAgLnNsaWNlKDAsIGNvdW50KVxuICAgIC5tYXAoKFt3b3JkXSkgPT4gd29yZClcbn1cblxuLy8gRGVib3VuY2UgdXRpbGl0eVxuZXhwb3J0IGZ1bmN0aW9uIGRlYm91bmNlPFQgZXh0ZW5kcyAoLi4uYXJnczogYW55W10pID0+IGFueT4oXG4gIGZ1bmM6IFQsXG4gIHdhaXQ6IG51bWJlclxuKTogKC4uLmFyZ3M6IFBhcmFtZXRlcnM8VD4pID0+IHZvaWQge1xuICBsZXQgdGltZW91dDogTm9kZUpTLlRpbWVvdXRcbiAgXG4gIHJldHVybiAoLi4uYXJnczogUGFyYW1ldGVyczxUPikgPT4ge1xuICAgIGNsZWFyVGltZW91dCh0aW1lb3V0KVxuICAgIHRpbWVvdXQgPSBzZXRUaW1lb3V0KCgpID0+IGZ1bmMoLi4uYXJncyksIHdhaXQpXG4gIH1cbn1cblxuLy8gUmV0cnkgdXRpbGl0eVxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHJldHJ5PFQ+KFxuICBmbjogKCkgPT4gUHJvbWlzZTxUPixcbiAgbWF4QXR0ZW1wdHM6IG51bWJlciA9IDMsXG4gIGRlbGF5OiBudW1iZXIgPSAxMDAwXG4pOiBQcm9taXNlPFQ+IHtcbiAgbGV0IGxhc3RFcnJvcjogRXJyb3JcbiAgXG4gIGZvciAobGV0IGF0dGVtcHQgPSAxOyBhdHRlbXB0IDw9IG1heEF0dGVtcHRzOyBhdHRlbXB0KyspIHtcbiAgICB0cnkge1xuICAgICAgcmV0dXJuIGF3YWl0IGZuKClcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgbGFzdEVycm9yID0gZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yIDogbmV3IEVycm9yKFN0cmluZyhlcnJvcikpXG4gICAgICBcbiAgICAgIGlmIChhdHRlbXB0ID09PSBtYXhBdHRlbXB0cykge1xuICAgICAgICB0aHJvdyBsYXN0RXJyb3JcbiAgICAgIH1cbiAgICAgIFxuICAgICAgbG9nZ2VyLndhcm4oYEF0dGVtcHQgJHthdHRlbXB0fSBmYWlsZWQsIHJldHJ5aW5nIGluICR7ZGVsYXl9bXNgLCBsYXN0RXJyb3IsICdyZXRyeScpXG4gICAgICBhd2FpdCBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHNldFRpbWVvdXQocmVzb2x2ZSwgZGVsYXkpKVxuICAgIH1cbiAgfVxuICBcbiAgdGhyb3cgbGFzdEVycm9yIVxufVxuXG4vLyBHZW5lcmF0ZSB1bmlxdWUgSURcbmV4cG9ydCBmdW5jdGlvbiBnZW5lcmF0ZUlkKCk6IHN0cmluZyB7XG4gIHJldHVybiBNYXRoLnJhbmRvbSgpLnRvU3RyaW5nKDM2KS5zdWJzdHJpbmcoMikgKyBEYXRlLm5vdygpLnRvU3RyaW5nKDM2KVxufVxuXG4vLyBDYWxjdWxhdGUgcmlzayBzY29yZVxuZXhwb3J0IGZ1bmN0aW9uIGNhbGN1bGF0ZVJpc2tTY29yZShjbGF1c2VzOiBBcnJheTx7IHJpc2tMZXZlbDogc3RyaW5nIH0+KTogbnVtYmVyIHtcbiAgaWYgKGNsYXVzZXMubGVuZ3RoID09PSAwKSByZXR1cm4gMFxuICBcbiAgY29uc3Qgd2VpZ2h0cyA9IHsgaGlnaDogMSwgbWVkaXVtOiAwLjYsIGxvdzogMC4zLCBwb3NpdGl2ZTogLTAuMiB9XG4gIGNvbnN0IHRvdGFsV2VpZ2h0ID0gY2xhdXNlcy5yZWR1Y2UoKHN1bSwgY2xhdXNlKSA9PiB7XG4gICAgcmV0dXJuIHN1bSArICh3ZWlnaHRzW2NsYXVzZS5yaXNrTGV2ZWwgYXMga2V5b2YgdHlwZW9mIHdlaWdodHNdIHx8IDApXG4gIH0sIDApXG4gIFxuICByZXR1cm4gTWF0aC5tYXgoMCwgTWF0aC5taW4oMSwgdG90YWxXZWlnaHQgLyBjbGF1c2VzLmxlbmd0aCkpXG59Il0sIm5hbWVzIjpbImNsc3giLCJ0d01lcmdlIiwiRVJST1JfQ09ERVMiLCJFUlJPUl9NRVNTQUdFUyIsImNuIiwiaW5wdXRzIiwiQXBwRXJyb3IiLCJFcnJvciIsInRvQVBJRXJyb3IiLCJjb2RlIiwibWVzc2FnZSIsImRldGFpbHMiLCJ0aW1lc3RhbXAiLCJjb25zdHJ1Y3RvciIsIkRhdGUiLCJuYW1lIiwibG9nZ2VyIiwiZXJyb3IiLCJjb250ZXh0IiwibG9nRW50cnkiLCJsZXZlbCIsInN0YWNrIiwidG9JU09TdHJpbmciLCJjb25zb2xlIiwid2FybiIsImRhdGEiLCJpbmZvIiwiZGVidWciLCJwcm9jZXNzIiwiZ2V0RmlsZUV4dGVuc2lvbiIsImZpbGVOYW1lIiwic3BsaXQiLCJwb3AiLCJ0b0xvd2VyQ2FzZSIsImRldGVjdEZpbGVUeXBlRnJvbUV4dGVuc2lvbiIsImV4dCIsIm1pbWVNYXAiLCJpc1ZhbGlkRmlsZVR5cGUiLCJmaWxlIiwiZmlsZVR5cGUiLCJ0eXBlIiwidmFsaWRUeXBlcyIsInZhbGlkRXh0ZW5zaW9ucyIsImluY2x1ZGVzIiwic29tZSIsImVuZHNXaXRoIiwiZmlsZVRvQmFzZTY0IiwiUHJvbWlzZSIsInJlc29sdmUiLCJyZWplY3QiLCJyZWFkZXIiLCJGaWxlUmVhZGVyIiwicmVhZEFzRGF0YVVSTCIsIm9ubG9hZCIsInJlc3VsdCIsIklOVkFMSURfSU5QVVQiLCJvbmVycm9yIiwiYmFzZTY0VG9GaWxlIiwiYmFzZTY0IiwiZmlsZW5hbWUiLCJhcnIiLCJtaW1lIiwibWF0Y2giLCJic3RyIiwiYXRvYiIsIm4iLCJsZW5ndGgiLCJ1OGFyciIsIlVpbnQ4QXJyYXkiLCJjaGFyQ29kZUF0IiwiRmlsZSIsInN0b3JhZ2UiLCJnZXQiLCJrZXkiLCJpdGVtIiwic2Vzc2lvblN0b3JhZ2UiLCJnZXRJdGVtIiwiSlNPTiIsInBhcnNlIiwic2V0IiwidmFsdWUiLCJzZXRJdGVtIiwic3RyaW5naWZ5IiwicmVtb3ZlIiwicmVtb3ZlSXRlbSIsImNsZWFyIiwiZm9ybWF0RmlsZVNpemUiLCJieXRlcyIsImsiLCJzaXplcyIsImkiLCJNYXRoIiwiZmxvb3IiLCJsb2ciLCJwYXJzZUZsb2F0IiwicG93IiwidG9GaXhlZCIsImZvcm1hdER1cmF0aW9uIiwibXMiLCJmb3JtYXREYXRlIiwiZGF0ZSIsIkludGwiLCJEYXRlVGltZUZvcm1hdCIsInllYXIiLCJtb250aCIsImRheSIsImhvdXIiLCJtaW51dGUiLCJmb3JtYXQiLCJ0cnVuY2F0ZVRleHQiLCJ0ZXh0IiwibWF4TGVuZ3RoIiwic3Vic3RyaW5nIiwiaGlnaGxpZ2h0VGV4dCIsInNlYXJjaFRlcm0iLCJyZWdleCIsIlJlZ0V4cCIsInJlcGxhY2UiLCJleHRyYWN0S2V5d29yZHMiLCJjb3VudCIsIndvcmRzIiwiZmlsdGVyIiwid29yZCIsInN0b3BXb3JkcyIsIlNldCIsIndvcmRDb3VudCIsIk1hcCIsImZvckVhY2giLCJoYXMiLCJBcnJheSIsImZyb20iLCJlbnRyaWVzIiwic29ydCIsImEiLCJiIiwic2xpY2UiLCJtYXAiLCJkZWJvdW5jZSIsImZ1bmMiLCJ3YWl0IiwidGltZW91dCIsImFyZ3MiLCJjbGVhclRpbWVvdXQiLCJzZXRUaW1lb3V0IiwicmV0cnkiLCJmbiIsIm1heEF0dGVtcHRzIiwiZGVsYXkiLCJsYXN0RXJyb3IiLCJhdHRlbXB0IiwiU3RyaW5nIiwiZ2VuZXJhdGVJZCIsInJhbmRvbSIsInRvU3RyaW5nIiwibm93IiwiY2FsY3VsYXRlUmlza1Njb3JlIiwiY2xhdXNlcyIsIndlaWdodHMiLCJoaWdoIiwibWVkaXVtIiwibG93IiwicG9zaXRpdmUiLCJ0b3RhbFdlaWdodCIsInJlZHVjZSIsInN1bSIsImNsYXVzZSIsInJpc2tMZXZlbCIsIm1heCIsIm1pbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./lib/utils.ts\n"));

/***/ })

});